
 

<section style="background-color: #eee;">
  <div class="container py-5">

    <div class="row d-flex justify-content-center">
      <div class="col-md-10 col-lg-8 col-xl-6">

        <div class="card" id="chat2">
          <div class="card-header d-flex justify-content-between align-items-center p-3">
            <h5 class="mb-0">My AI Agent</h5>
            <button type="button" class="btn btn-primary btn-sm" data-mdb-ripple-color="dark">eMGMT</button>
          </div>

      <% gpt_list = Gpt.order(:updated_at).each do |gpt| %>
      <div class="card-body" data-mdb-perfect-scrollbar="true" style="position: relative;">
        <% if gpt.role == "user" %>
            <div class="d-flex flex-row justify-content-start">
              <img src="<%= gpt.user.photo %>"
                alt="avatar 1" class="rounded-circle d-flex align-self-start ms-3 shadow-1-strong" style="width: 45px; height: 100%;">
              <div>
                <p class="small p-2 ms-3 mb-1 rounded-3" style="background-color: #f5f6f7;"><%= gpt.content %></p>
                <p class="small ms-3 mb-3 rounded-3 text-muted"><%= gpt.updated_at.strftime("%I:%M%p") %></p>
              </div>
            </div>


        <% else %>


            <div class="d-flex flex-row justify-content-end mb-4 pt-1">
              <div>
                <p class="small p-2 me-3 mb-1 text-white rounded-3 bg-primary"><%= gpt.content %></p>
                
                <p class="small me-3 mb-3 rounded-3 text-muted d-flex justify-content-end"><%= gpt.updated_at.strftime("%I:%M%p") %></p>
              </div>
              <img src="<%= gpt.user.photo %>"
                alt="avatar 1" class="rounded-circle d-flex align-self-start ms-3 shadow-1-strong" style="width: 45px; height: 100%;">
            </div>
            

        <% end %>
          </div>
      <% end %>


          <div class="card-footer text-muted d-flex justify-content-start align-items-center p-3">
            <img src="<%= current_user.photo %>"
              alt="avatar 3" class="rounded-circle" style="width: 40px; height: 100%;">
            <input type="text" class="form-control form-control-lg" id="exampleFormControlInput1"
              placeholder="Type message">
            <a class="ms-1 text-muted" href="#!"><i class="fas fa-paperclip"></i></a>
            <a class="ms-3 text-muted" href="#!"><i class="fas fa-smile"></i></a>
            <a class="ms-3" href="#!"><i class="fas fa-paper-plane"></i></a>
          </div>
        </div>

      </div>
    </div>

  </div>
</section>





<!--
<%= form_with(model: Gpt.new) do |form| %>
<div class="field">
<%= form.hidden_field :user_id, value: current_user.id %>
</div>

<div class="field">
<%= form.label :content %>
<%= form.text_area :content, rows: "10", cols: "80", placeholder: "Dear AI Agent..." %>
</div>

<div class="field">
<%= form.hidden_field :role, value: "user" %>
</div>

<div class="actions">
<%= form.submit "Send" %>
</div>

<% end %>
  </dd>
</dl>
-->
