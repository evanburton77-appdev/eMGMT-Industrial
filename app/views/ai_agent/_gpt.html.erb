    <% if (gpt.role == "user" && gpt.user_id == current_user.id) || (gpt.role == "assistant" && gpt.updated_at > Gpt.where(user_id: current_user.id).first.updated_at) %>
      <div class="card-body chat-message" data-mdb-perfect-scrollbar="true">
        <% if gpt.role == "user" && gpt.user_id == current_user.id %>
            <div class="d-flex flex-row justify-content-start">
              <img src="<%= gpt.user.photo %>"
                alt="avatar 1" class="rounded-circle d-flex align-self-start ms-3 shadow-1-strong" style="width: 45px; height: 100%;">
              <div>
                <p class="small p-2 ms-3 mb-1 rounded-3" style="background-color: #f5f6f7;"><%= gpt.content %></p>
                <p class="small ms-3 mb-3 rounded-3 text-muted"><%= gpt.updated_at.strftime("%I:%M%p") %></p>
              </div>
            </div>

<% end %>

      <% if @assistant_message.role == "assistant" && @assistant_message.recipient_id == current_user.id %>


            <div class="d-flex flex-row justify-content-end mb-4 pt-1">
              <div>
                <p class="small p-2 me-3 mb-1 text-white rounded-3 bg-primary"><%= @assistant_message.content %></p>
                
                <p class="small me-3 mb-3 rounded-3 text-muted d-flex justify-content-end"><%= @assistant_message.updated_at.strftime("%I:%M%p") %></p>
              </div>
              <img src="<%= @assistant_message.user.photo %>"
                alt="avatar 1" class="rounded-circle d-flex align-self-start ms-3 shadow-1-strong" style="width: 45px; height: 100%;">
            </div>
            <% end %>
          </div>
      <% end %>
